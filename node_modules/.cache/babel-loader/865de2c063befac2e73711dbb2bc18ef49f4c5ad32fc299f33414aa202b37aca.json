{"ast":null,"code":"import React,{useContext,useMemo,useState}from'react';import{PokemonContext}from'../context/PokemonContext';import PokemonList from'./PokemonList';import SearchBar from'./SearchBar';import{searchPokemonsByName,searchPokemonsByAbility}from'../services/PokemonService';/**\n * Componente para mostrar la colección de Pokémon del usuario\n */import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UserCollection=()=>{const{userCollection,allPokemons}=useContext(PokemonContext);const[searchTerm,setSearchTerm]=useState('');const[abilityFilter,setAbilityFilter]=useState('');// Obtener los objetos Pokémon que tiene el usuario\nconst userPokemons=useMemo(()=>{if(!userCollection.length)return[];return userCollection.map(name=>allPokemons[name]).filter(Boolean);// Filtrar nulos por si acaso\n},[userCollection,allPokemons]);// Filtrar por nombre y habilidad\nconst filteredPokemons=useMemo(()=>{let result=userPokemons;if(searchTerm){result=searchPokemonsByName(result.reduce((obj,pokemon)=>{obj[pokemon.name]=pokemon;return obj;},{}),searchTerm);}if(abilityFilter){result=searchPokemonsByAbility(result.reduce((obj,pokemon)=>{obj[pokemon.name]=pokemon;return obj;},{}),abilityFilter);}return result;},[userPokemons,searchTerm,abilityFilter]);// Si no hay pokémon en la colección\nif(!userCollection.length){return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white bg-opacity-80 rounded-xl p-8 shadow-lg text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl font-semibold text-gray-700 mb-4\",children:\"Tu colecci\\xF3n est\\xE1 vac\\xEDa\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-500 mb-6\",children:\"Explora la lista de Pok\\xE9mon y agrega algunos a tu colecci\\xF3n.\"}),/*#__PURE__*/_jsx(\"a\",{href:\"/\",className:\"inline-block px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\",children:\"Explorar Pok\\xE9mon\"})]});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(SearchBar,{onSearch:setSearchTerm,onFilterByAbility:setAbilityFilter}),/*#__PURE__*/_jsx(PokemonList,{pokemons:filteredPokemons})]});};export default UserCollection;","map":{"version":3,"names":["React","useContext","useMemo","useState","PokemonContext","PokemonList","SearchBar","searchPokemonsByName","searchPokemonsByAbility","jsx","_jsx","jsxs","_jsxs","UserCollection","userCollection","allPokemons","searchTerm","setSearchTerm","abilityFilter","setAbilityFilter","userPokemons","length","map","name","filter","Boolean","filteredPokemons","result","reduce","obj","pokemon","className","children","href","onSearch","onFilterByAbility","pokemons"],"sources":["/Users/fatu/Documents/Progra /pokemon-explorer/frontend/src/components/UserCollection.js"],"sourcesContent":["import React, { useContext, useMemo, useState } from 'react';\nimport { PokemonContext } from '../context/PokemonContext';\nimport PokemonList from './PokemonList';\nimport SearchBar from './SearchBar';\nimport { searchPokemonsByName, searchPokemonsByAbility } from '../services/PokemonService';\n\n/**\n * Componente para mostrar la colección de Pokémon del usuario\n */\nconst UserCollection = () => {\n  const { userCollection, allPokemons } = useContext(PokemonContext);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [abilityFilter, setAbilityFilter] = useState('');\n  \n  // Obtener los objetos Pokémon que tiene el usuario\n  const userPokemons = useMemo(() => {\n    if (!userCollection.length) return [];\n    \n    return userCollection\n      .map(name => allPokemons[name])\n      .filter(Boolean); // Filtrar nulos por si acaso\n  }, [userCollection, allPokemons]);\n  \n  // Filtrar por nombre y habilidad\n  const filteredPokemons = useMemo(() => {\n    let result = userPokemons;\n    \n    if (searchTerm) {\n      result = searchPokemonsByName(\n        result.reduce((obj, pokemon) => {\n          obj[pokemon.name] = pokemon;\n          return obj;\n        }, {}), \n        searchTerm\n      );\n    }\n    \n    if (abilityFilter) {\n      result = searchPokemonsByAbility(\n        result.reduce((obj, pokemon) => {\n          obj[pokemon.name] = pokemon;\n          return obj;\n        }, {}), \n        abilityFilter\n      );\n    }\n    \n    return result;\n  }, [userPokemons, searchTerm, abilityFilter]);\n  \n  // Si no hay pokémon en la colección\n  if (!userCollection.length) {\n    return (\n      <div className=\"bg-white bg-opacity-80 rounded-xl p-8 shadow-lg text-center\">\n        <h2 className=\"text-xl font-semibold text-gray-700 mb-4\">Tu colección está vacía</h2>\n        <p className=\"text-gray-500 mb-6\">\n          Explora la lista de Pokémon y agrega algunos a tu colección.\n        </p>\n        <a \n          href=\"/\"\n          className=\"inline-block px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors\"\n        >\n          Explorar Pokémon\n        </a>\n      </div>\n    );\n  }\n  \n  return (\n    <div>\n      <SearchBar \n        onSearch={setSearchTerm}\n        onFilterByAbility={setAbilityFilter}\n      />\n      \n      <PokemonList pokemons={filteredPokemons} />\n    </div>\n  );\n};\n\nexport default UserCollection;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,OAAO,CAAEC,QAAQ,KAAQ,OAAO,CAC5D,OAASC,cAAc,KAAQ,2BAA2B,CAC1D,MAAO,CAAAC,WAAW,KAAM,eAAe,CACvC,MAAO,CAAAC,SAAS,KAAM,aAAa,CACnC,OAASC,oBAAoB,CAAEC,uBAAuB,KAAQ,4BAA4B,CAE1F;AACA;AACA,GAFA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAGA,KAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAAEC,cAAc,CAAEC,WAAY,CAAC,CAAGd,UAAU,CAACG,cAAc,CAAC,CAClE,KAAM,CAACY,UAAU,CAAEC,aAAa,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACe,aAAa,CAAEC,gBAAgB,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAEtD;AACA,KAAM,CAAAiB,YAAY,CAAGlB,OAAO,CAAC,IAAM,CACjC,GAAI,CAACY,cAAc,CAACO,MAAM,CAAE,MAAO,EAAE,CAErC,MAAO,CAAAP,cAAc,CAClBQ,GAAG,CAACC,IAAI,EAAIR,WAAW,CAACQ,IAAI,CAAC,CAAC,CAC9BC,MAAM,CAACC,OAAO,CAAC,CAAE;AACtB,CAAC,CAAE,CAACX,cAAc,CAAEC,WAAW,CAAC,CAAC,CAEjC;AACA,KAAM,CAAAW,gBAAgB,CAAGxB,OAAO,CAAC,IAAM,CACrC,GAAI,CAAAyB,MAAM,CAAGP,YAAY,CAEzB,GAAIJ,UAAU,CAAE,CACdW,MAAM,CAAGpB,oBAAoB,CAC3BoB,MAAM,CAACC,MAAM,CAAC,CAACC,GAAG,CAAEC,OAAO,GAAK,CAC9BD,GAAG,CAACC,OAAO,CAACP,IAAI,CAAC,CAAGO,OAAO,CAC3B,MAAO,CAAAD,GAAG,CACZ,CAAC,CAAE,CAAC,CAAC,CAAC,CACNb,UACF,CAAC,CACH,CAEA,GAAIE,aAAa,CAAE,CACjBS,MAAM,CAAGnB,uBAAuB,CAC9BmB,MAAM,CAACC,MAAM,CAAC,CAACC,GAAG,CAAEC,OAAO,GAAK,CAC9BD,GAAG,CAACC,OAAO,CAACP,IAAI,CAAC,CAAGO,OAAO,CAC3B,MAAO,CAAAD,GAAG,CACZ,CAAC,CAAE,CAAC,CAAC,CAAC,CACNX,aACF,CAAC,CACH,CAEA,MAAO,CAAAS,MAAM,CACf,CAAC,CAAE,CAACP,YAAY,CAAEJ,UAAU,CAAEE,aAAa,CAAC,CAAC,CAE7C;AACA,GAAI,CAACJ,cAAc,CAACO,MAAM,CAAE,CAC1B,mBACET,KAAA,QAAKmB,SAAS,CAAC,6DAA6D,CAAAC,QAAA,eAC1EtB,IAAA,OAAIqB,SAAS,CAAC,0CAA0C,CAAAC,QAAA,CAAC,kCAAuB,CAAI,CAAC,cACrFtB,IAAA,MAAGqB,SAAS,CAAC,oBAAoB,CAAAC,QAAA,CAAC,oEAElC,CAAG,CAAC,cACJtB,IAAA,MACEuB,IAAI,CAAC,GAAG,CACRF,SAAS,CAAC,8FAA8F,CAAAC,QAAA,CACzG,qBAED,CAAG,CAAC,EACD,CAAC,CAEV,CAEA,mBACEpB,KAAA,QAAAoB,QAAA,eACEtB,IAAA,CAACJ,SAAS,EACR4B,QAAQ,CAAEjB,aAAc,CACxBkB,iBAAiB,CAAEhB,gBAAiB,CACrC,CAAC,cAEFT,IAAA,CAACL,WAAW,EAAC+B,QAAQ,CAAEV,gBAAiB,CAAE,CAAC,EACxC,CAAC,CAEV,CAAC,CAED,cAAe,CAAAb,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}